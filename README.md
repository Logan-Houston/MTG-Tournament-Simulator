    # Magic: The Gathering Tournament Simulator
    #### Video Demo:  https://youtu.be/3jch7RTwPL8
    #### Description: Magic: The Gathering is a competitive trading card game that is played by constructing your own 60-card deck and pitting it against your friends (or foes) in a best-of-three style match. As the game has gained popularity, there are often tournaments with hundreds of players competing for thousands of dollars in prizes. The more enterprising players will visit websites that collect data from these tournaments, which is often collectively referred to as metagaming, to try and predict which strategies will be the best or which strategies they should plan for when devising their own to better their odds. The program I have created is a tool designed to streamline that process, simulating tournaments using metagame data to provide the user with a clearer picture of which decks are the most competitive.

First, it prompts the user to enter a number of players to simulate in a tournament, then assigns each player a deck using a weighted random selection based on a .csv file built with data gathered from https://mtgmeta.io . While the website does offer an API to requisition this data, it requires a subscription fee which I felt was a bit too expensive at $50.00 per month. Currently I enjoy the game at a hobbyist level. If I were making more efforts to be extremely competitive at Magic: The Gathering or felt I had some other way to recoup that cost I would likely implement retrieving the information from the API to further increase the time savings made by using this program.

The players are created using the Generate_Players function, which creates a Player object for each competitor and randomly assigns them a deck from the .csv file provided. Each player's deck information can be accessed with the .deck() method, showing the dict containing all of that player's deck's matchup information as well as it's appearance rate in the metagame. I chose to create a Player class of objects to make the project operate better at larger scales, as some tournaments can have hundreds or thousands of players, with the largest ever being Grand Prix Vegas in 2014, with over 4500 participants. This object-oriented programming style choice also imitates more closely how a tournament would function in real life with each player bringing their own deck to battle with.

 Next, it shows the user a summary of all the decks that were selected by type. Then using the Tournament function, the program matches them up in simplified single elimination until a winner is determined, proudly declaring “Winner!” followed by the winning deck. Again, for reasons of scale, I chose to summarize the participants by deck strategy type, rather than listing out each individual competitor so that the output would be much more readable for larger tournaments. I also chose not to display the results of each individual match because this felt very messy and lead to a lot of confusing noise for the user. This style of summary, showing each strategy and the number of occurrences, is common in articles which break down the results of large Magic: The Gathering tournaments and so is more familiar to the target audience of users.

Large Magic: The Gathering tournaments are normally played with Swiss-style pairings where players of similar skill level are paired up for the initial round. Further rounds are played based on the individual’s record of wins. This continues for a set number of rounds based on the number of attendees until the top 8 competitors are identified. Finally, the top 8 play a single elimination style of games until a final winner is decided. The Tournament function uses a simplified version of single elimination matchmaking to pair up competitors, then the Play_Match function checks the matchup win rates from the Player objects and determines a winner using a weighted random selection from those win rates. The loser is removed from the bracket and this process repeats until there is only one winner remaining. I chose to use a simplified single-elimination style reflecting more of the top-8 portion of competition, largely due to my own time constraints for this project and the large time investment of implementing a Swiss-style pairing system. Since it is a simplified version of matchmaking, if the user provides an odd number of participants or an otherwise invalid input to the Generate_Players function then the program will raise a ValueError and provide a hint as to the correct format.

When testing my functions, I chose to write tests for all the different corner cases of inputs for the Generate_Players function. I ensured that all of the possible invalid inputs including 0, negative numbers, decimal numbers, odd numbers, and non-number inputs all receive the appropriate error with a hint as to the correct format. I also tested that when given a valid input that the function outputs as a list with the correct number of players within. Since the Play_match and Tournament functions do not receive direct user input, less validation was required. I wrote tests that ensure the correct type and number of outputs are received. There can only be one winner of a match or tournament, therefore both functions should output a list with a single player in them.

As a Magic: The Gathering hobbyist, this program allows me to make generalizations about which strategies are best suited for tournament play and craft my strategy accordingly. If I were to become more serious about competitive play, implementing a pairing system that more closely mimics real tournament play would provide more accurate results. Utilizing the https://mtgmeta.io API instead of manually crafting a CSV file to pull data from could also save me more time allowing me to focus on using the insights gleaned from the Magic: The Gathering Tournament Simulator to improve my strategies. I would also like the option to run batches of tournaments at a time with a summary of results rather than a single tournament at a time for more statistically significant insights.

TODO
    Implement Swiss-style matchmaking as is the standard for MTG tournaments
    Import data using https://mtgmeta.io API instead of from manually created spreadsheet
    Implement option to run multiple tournaments with summary of results

